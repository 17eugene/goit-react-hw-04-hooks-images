(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],[,,,function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3yXJL",searchForm:"Searchbar_searchForm__1DuSN",searchForm_button:"Searchbar_searchForm_button__25aEh",searchForm_button_label:"Searchbar_searchForm_button_label__3KoNG",searchForm_input:"Searchbar_searchForm_input__2QqvW"}},function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2Su2F",galleryContainer:"ImageGallery_galleryContainer__1w0DN",btnContainer:"ImageGallery_btnContainer__3pyPn",hidden:"ImageGallery_hidden__3QqtZ",button:"ImageGallery_button__1sOou"}},,,,function(e,t,a){e.exports={imageGalleryItem:"GalleryItem_imageGalleryItem__2XhMX",imageGalleryItem_image:"GalleryItem_imageGalleryItem_image__1TOlT"}},function(e,t,a){e.exports={spinContainer:"Loader_spinContainer__2NOR-",spinner:"Loader_spinner__2PTnM"}},function(e,t,a){e.exports={overlay:"Modal_overlay__1diO_",modal:"Modal_modal__gG3BE"}},,,,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),o=a.n(c),i=(a(18),a(2)),s=a(3),l=a.n(s),u=a(0);function m(e){var t=e.submit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(u.jsx)("header",{className:l.a.searchbar,children:Object(u.jsxs)("form",{className:l.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):alert("No query entered")},children:[Object(u.jsx)("button",{type:"submit",className:l.a.searchForm_button,children:Object(u.jsx)("span",{className:l.a.searchForm_button_label,children:"Search"})}),Object(u.jsx)("input",{className:l.a.searchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())},value:c})]})})}var b=a(11),j=a(8),d=a.n(j);function h(e){var t=e.id,a=e.alt,n=e.webformatURL,r=e.largeImageURL,c=e.click;return Object(u.jsx)("li",{className:d.a.imageGalleryItem,children:Object(u.jsx)("img",{src:n,alt:a,onClick:function(){c(r,a)},className:d.a.imageGalleryItem_image})},t)}function _(e){var t=e.btnName,a=e.className,n=e.onClick;return Object(u.jsx)("button",{type:"submit",className:a,onClick:n,children:t})}var g=a(13),O=a(9),f=a.n(O);function p(){return Object(u.jsx)("div",{className:f.a.spinContainer,children:Object(u.jsx)(g.a,{className:f.a.spinner,size:"80"})})}var y=a(10),v=a.n(y);function x(e){var t=e.close,a=e.largeImageURL,r=e.alt;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(u.jsx)("div",{className:v.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:v.a.modal,children:Object(u.jsx)("img",{src:a,alt:r})})})}function N(e,t){var a="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22456437-7bc40aa948e36a9aa215a1147","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something gone wrong"))}))}var I=a(4),S=a.n(I);function w(e){var t=e.query,a=Object(n.useState)("idle"),r=Object(i.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(1),l=Object(i.a)(s,2),m=l[0],j=l[1],d=Object(n.useState)([]),g=Object(i.a)(d,2),O=g[0],f=g[1],y=Object(n.useState)(null),v=Object(i.a)(y,2),I=v[0],w=v[1],G=Object(n.useState)(""),C=Object(i.a)(G,2),k=C[0],L=C[1],F=Object(n.useState)(""),E=Object(i.a)(F,2),R=E[0],U=E[1];Object(n.useEffect)((function(){""!==t.trim()?(o("pending"),N(t).then((function(e){return 0===e.total?[w("Image(s) not found"),o("rejected")]:[f(e.hits),o("resolved"),j(1)]})).catch((function(e){return w(e)}),o("rejected"))):o("idle")}),[t]);var q=function(e,t){L(e),U(t)};return"idle"===c?Object(u.jsx)(_,{className:S.a.hidden}):"pending"===c?Object(u.jsx)(p,{}):"rejected"===c?Object(u.jsx)("p",{children:I}):"resolved"===c?Object(u.jsxs)("div",{className:S.a.galleryContainer,children:[Object(u.jsx)("ul",{className:S.a.imageGallery,children:O.map((function(e){return Object(u.jsx)(h,{alt:e.tags,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,click:q},e.id)}))}),Object(u.jsx)("div",{className:S.a.btnContainer,children:Object(u.jsx)(_,{className:S.a.button,btnName:"Load more",onClick:function(e){N(t,m+1).then((function(e){return f((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e.hits))}))}),j((function(e){return e+1}))).then((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}})}),k&&Object(u.jsx)(x,{close:function(){L(""),U("")},largeImageURL:k,alt:R})]}):void 0}function G(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{submit:function(e){r(e)}}),Object(u.jsx)(w,{query:a})]})}o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(G,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.9e424537.chunk.js.map